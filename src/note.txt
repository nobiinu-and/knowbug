
	ノート
	@ clhsp::debugger (knowbug)
	
＠TODO
	・スタックを解析して、呼び出し履歴の構築。
	・ツリーのモジュール項目をクリックしたとき、ddwTree のように表示する。
	・CVarinfoText と CVarinfoTree の統合。
	・array[str]型を、要素ごとにメモリダンプする。
	
	・ginfo に対応。
		@ アクティブなウィンドウの ginfo を、すべて表示 (CVarinfoTreeを拡張)。
	・変数内にある文字列の縦断検索。
	・comobj, variant の拡張表示も try! and throw... .
	
	・イミディエイト実行→無理ぽ。
		実行時データをコンパイラに教える方法が無い (作るのはめんどくさい)。
	・ステップ実行→無理ぽ。
		実行中に dbg_set(HSPDEBUG_STOP) を使っても止まらない。謎。
	
	・適当にコーディングしすぎ。
	
＠履歴
2011 03/29 (Tue)
	・WrapCall.hpi との連携に対応。
		+Dynamic ノードで、呼び出されたユーザ定義命令・関数の引数の値を表示できるようにした。
		呼び出し履歴を logmes 出来るようにした。
	・リリース (ver: 1.0β5)
	
2010 02/07 (Sun), 〃/08 (Mon)
	・Visitor パターンを利用した方法に変更しようとしたが、無理だった。
	
2010 02/06 (Sat)
	・「@a@s」と「@b@s」など、領域内に領域があるとき、それらの関係を逆に解釈して
		しまうバグを修正した。
		@ex: 同じ例で：
			-@
				-@a
					-@s
				-@b
					-@s
			正しくは：
			-@				// @
				-@s			// @s
					-@a		// @a@s
					-@b		// @b@s
	
2010 01/13 (Wed)
	・カスタムドローするかどうかを、ini ファイルで設定できるようにした。
		@ [ColorType]::bCustomDraw キーが真ならカスタムドローする。
	・全般タブのリストに要素を追加するコードを、若干すっきりさせた。
	・配列の aptr が 0x8000 以上のとき、符号が負に変わって、メモリ違反を起こし、
		異常終了してしまうバグを、hsp モードでのみ修正した。
		@ PVal::offset が signed short になっていたため。
	・hsp モードでは、ちゃんと、 hsp 本来のヘッダを用いるようにした。
		@ ただし、clhsp での定義が複数の場所に散らばってしまう。
		@ 配列の四次元目を表示できるようになったが、需要がなさそうなので変更なし。
	・hsp モードで、thismod を、引数に指定された要素だけ表示するようにした。
	・リリース (ver: 1.0β4)
		
2010 01/11 (Mon)
	・再コンパイル。
	
2010 01/02 (Sat)
	・システム変数 err を表示するようにした。
	・Vector要素 VecElem を表示する際に、実体要素なら *、参照要素なら & を、
		要素名 ( 通常は [n] ) の後に付けるようにした。
	・VecElemが参照要素で、aptr != 0 のとき、その要素の値のみを varScalar として
		取り出すようにした。
	
2009 12/19 (Sat)
	・Vectorの仕様変更に対応し、再ビルドした。
	・変数データツリーが300以上の深さになると、エラーで再帰を終了するようにした。
	・変数データツリーが長すぎると ( 0x5000 bytes 以上 )、途中で切るようにした。
	
2009 12/18 (Fri)
	・iniファイルを、ランタイムと同じフォルダから探すようにした。
		@ スクリプトエディタがカレントディレクトリを変更してしまうため、
			カレントから探すと発見できない可能性が高い。
	・カスタムドローで、NM_PREPAINT などの戻り値を、SetWindowLong() を用いて返す
		ようにした。
		@ return では返すことができないため、NM_PREPAINT が発生しなかった。
	・変数ツリーで、型ごとに色を変えるようにした。
	・(ver: 1.0β3)
	
2009 12/17 (Thu)
	・ツリービューをカスタムドローするようにしようとした。
	・iniファイルからの読み込みができるようにした。
	
2009 12/16 (Wed)
	・cntを表示するに際し、配列のように、トップレベルではないループの cnt 値も
		表示するようにした。
		「#n」は looplev が n である位置の cnt を表す。最上段がトップ。
	・「マルチスレッド Dll (/MD)」から「マルチスレッド (/MT)」に変更した。
		@ Windows XP sp2 以前の環境でも動くようになった。
	・リリース (ver: 1.0β2)
	
2009 12/15 (Tue)
	・Kernel32.dll に EncodePointer() がない環境でエラーが起きるVS2010のバグに
		対応するため、ビルドは VC++2008Ex で行うようにした。
	・リリース (ver: 1.0β1)
	・バッファサイズは、メモリダンプ時に表示するようにした。
	・システム変数を、ツリーの「$sysvar」ノードに持たせるように、追加した。
	・ツリーのトップレベルのノードはすべて開いた状態にするようにした。
	
2009 12/14 (Mon)
	・log-Editboxが更新されても、選択状態を維持するようにした。
	・log-Editboxの自動更新を止めるために、自動更新の有無をチェックボックスで
		管理し、自動更新が無効化された状態で TabLogAdd された文字列は、一旦、
		別のバッファに書きためるようにした。
	・hsp互換モードでは、配列の添字括弧に [] ではなく () を用いるようにした。
	・初リリース (ver: 1.0β0)
	
2009 12/13 (Sun)
	・Compile-Switchで、hsp向けのバージョンとして作成できるようにした。
		@ clhsp 限定の機能は、clhsp マクロがないと制御される。
	・多次元配列の全要素が表示できるようにした。ただし、諸事情により3次元に限る。
	・nullmod を表示するときに、NULL参照エラーが発生していたバグを修正した。
	・hsp互換モードで、struct型の内容 (FlexValue) を拡張表示するようにした。
	・バージョン情報を埋め込むようにした。
	・delmod された後の FlexValue の ptr が NULL になっていない可能性があるのを
		考慮して、type が FLEXVAL_TYPE_NONE でないことも条件にした。
		@ 無効ポインタの参照でエラーが起きていた。
	・変数データテキストが 0x2000 バイトより大きければ、malloc で必要なだけ確保
		して対応するようにした。
	
2009 12/12 (Sat)
	・変数の内容のツリー形式文字列を、関数ではなく CVarinfoTree クラスが生成する
		ようにした。
	・マクロ USE_DEFAULT_ARG がないために、STRUCTPRM の大きさがビルド時と違って
		いたバグを修正した。
	・modinst のメンバを拡張表示するようにした。
	・変数の内容は CVarinfoText クラスを用いて生成するようにした。
	・メモリダンプの表示形式を変更した。
		@ 1行に 16 バイト分表示するなど、ddw に似せた。
	・変数データテキストを、項目をＷクリックしたり、リターンキー ( [Enter] ) を
		押したりしても更新するようにした。
	・logmes されても変数ツリーを構築し直さないようにした。
	
2009 12/10 (Thu)
	・vector ツリーで、「=」の左辺に「変数名[a][b]...[n]」ではなく「[n]」とだけ
		表示するようにした。
		また、.vartype で型名を表示するようにした。
	・vector が空の時の表記を変更した。
	
2009 12/09 (Wed)
	・HSP3DEBUG::dbg_toString() を追加した。
	・変数の内容 (varinf) を、knowbug が処理して表示するようにした。
		@ つまり、HSP3DEBUG::dbg_getvarinf() を呼ばないようになった。
	・vectorをツリー形式の文字列で表示するようにした。
	
2009 12/07 (Mon)
	・別フォルダに移動し、knowbug に改名した。
	・静的変数リストを、木構造の CVarTree クラスで管理するようにした。
	・「変数」タブのチェックボックスを削除し、「配列」「静的ローカル」
		「メモリダンプ」などを常に行うようにした。
	・変数リストをツリービューで表示するようにした。
	
2009 12/06 (Sun)
	・初弄り。
	・EditControl のフォントを「MS UI Gothic」から「ＭＳ ゴシック」に変更した。
	・タブのページを、限界まで広く使うようにした。
	・初期状態で、「配列」「静的ローカル (旧 : モジュール)」「メモリダンプ」の
		チェックをついた状態にした。
	・「ソート」ボタンを削除し、常にソートするようにした。
	・変数リストをリストボックスに取得するに際し、一旦 CVarnameList クラスに変数
		名を追加し、それの反復子を用いるようにした。
		@ 属するモジュールごとに変数を分別するため。
	・静的変数リストは、始めに1回だけ取得するようにした。
		@ 途中で変わるわけがないため。
	・変数がないときに、無効な iterator を脱参照してしまっていたバグを修整した。
	
＠メモ
	・32bit 環境でのみ動作確認 (新版)。
	
	・変数データツリーの字下げ量は、4 にすべきか 3 にすべきか。
	・「ログ消去ボタン」は必要か？
	
	・デバッグ文字列の生成を HspVarProc に任せると、ランタイム側がデバッグ時に
		使用できるという利点がある。うーむ。
	
	・なぜか Debug でビルドすると、Release でビルドした clhsp の vector の内容を
		読み取れない。
	
	・Release::Build Event::Post Build
		Command Line:
			copy $(TargetPath) ..\..\..\hsp3\win32\release\
			copy $(TargetPath) ..\..\..\hsp3\win32gui\release\
		
	